
# Overview

## TOC

1. [Extension support status](#extension-support-status)

1. [Instruction status](#instruction-status)

1. [ZBA](#zba)

1. [ZBB](#zbb)

1. [ZBC](#zbc)

1. [ZBS](#zbs)


# Instruction status

See EXT_STATUS.md for latest status.

# ZBA

---------------------------------------------------------------------
## ADD.UW   ZBA       RV64
```
usage:   add.uw rd, rs1, rs2
opc:     0x3b
func7:   0x4
func3:   0x0
ext:     ZBA
arch:    RV64
pcode: 
       X(rd) = X(rs2) + EXTZ(X(rs1)[31..0]);

| 31   25 | 24   20 | 19   15 | 14   12 |11    7 |6     0|
+---------+---------+---------+---------+--------+-------+
| 0000100 |   rs2   |   rs1   |   000   |   rd   |0111011|
|   0x4   |         |         |   0x0   |        | 0x3B  |
+---------+---------+---------+---------+--------+-------+
```
## SH1ADD
```
usage:   sh1add rd, rs1, rs2
opc:     0x33
func7:   0x10
func3:   0x2
ext:     ZBA
arch:    RV32 RV64
pcode: 
         X(rd) = X(rs2) + (X(rs1) << 1);

| 31   25 | 24   20 | 19   15 | 14   12 |11    7 |6     0|
+---------+---------+---------+---------+--------+-------+
| 0010000 |   rs2   |   rs1   |   010   |   rd   |0110011|
|  0x10   |         |         |   0x2   |        | 0x33  |
+---------+---------+---------+---------+--------+-------+
```
## SH1ADD.UW
```
usage:   sh1add.uw rd, rs1, rs2
opc:     0x3b
func7:   0x10
func3:   0x2
ext:     ZBA
arch:    RV64
pcode: 
         X(rd) = X(rs2) + ((EXTZ(X(rs1)[31..0])) << 1);

| 31   25 | 24   20 | 19   15 | 14   12 |11    7 |6     0|
+---------+---------+---------+---------+--------+-------+
| 0010000 |   rs2   |   rs1   |   010   |   rd   |0111011|
|  0x10   |         |         |   0x2   |        | 0x3B  |
+---------+---------+---------+---------+--------+-------+
```
## SH2ADD
```
usage:   sh2add rd, rs1, rs2
opc:     0x33
func7:   0x10
func3:   0x4
ext:     ZBA
arch:    RV32 RV64
pcode: 
         X(rd) = X(rs2) + (X(rs1) << 2);

| 31   25 | 24   20 | 19   15 | 14   12 |11    7 |6     0|
+---------+---------+---------+---------+--------+-------+
| 0010000 |   rs2   |   rs1   |   100   |   rd   |0110011|
|  0x10   |         |         |   0x4   |        | 0x33  |
+---------+---------+---------+---------+--------+-------+
```
## SH2ADD.UW
```
usage:   sh2add.uw rd, rs1, rs2
opc:     0x3b
func7:   0x10
func3:   0x4
ext:     ZBA
arch:    RV64
pcode: 
         X(rd) = X(rs2) + ((EXTZ(X(rs1)[31..0])) << 2);

| 31   25 | 24   20 | 19   15 | 14   12 |11    7 |6     0|
+---------+---------+---------+---------+--------+-------+
| 0010000 |   rs2   |   rs1   |   100   |   rd   |0111011|
|  0x10   |         |         |   0x4   |        | 0x3B  |
+---------+---------+---------+---------+--------+-------+
```
## SH3ADD
```
usage:   sh3add rd, rs1, rs2
opc:     0x33
func7:   0x10
func3:   0x6
ext:     ZBA
arch:    RV32 RV64
pcode: 
         X(rd) = X(rs2) + (X(rs1) << 3);

| 31   25 | 24   20 | 19   15 | 14   12 |11    7 |6     0|
+---------+---------+---------+---------+--------+-------+
| 0010000 |   rs2   |   rs1   |   110   |   rd   |0110011|
|  0x10   |         |         |   0x6   |        | 0x33  |
+---------+---------+---------+---------+--------+-------+
```
## SH3ADD.UW
```
usage:   sh3add.uw rd, rs1, rs2
opc:     0x3b
func7:   0x10
func3:   0x6
ext:     ZBA
arch:    RV64
pcode: 
         X(rd) = X(rs2) + ((EXTZ(X(rs1)[31..0])) << 3);

| 31   25 | 24   20 | 19   15 | 14   12 |11    7 |6     0|
+---------+---------+---------+---------+--------+-------+
| 0010000 |   rs2   |   rs1   |   110   |   rd   |0111011|
|  0x10   |         |         |   0x6   |        | 0x3B  |
+---------+---------+---------+---------+--------+-------+
```
## SLLI.UW
```
usage:   slli rd, rs1, imm
opc:     0x1b
func7:   0x2
func3:   0x1
ext:     ZBA
arch:    RV64
pcode: 
         X(rd) = (EXTZ(X(rs)[31..0]) << shamt);

| 31   25 | 24   20 | 19   15 | 14   12 |11    7 |6     0|
+---------+---------+---------+---------+--------+-------+
| 000010  |   rs2   |   rs1   |   001   |   rd   |0011011|
|   0x2   |         |         |   0x1   |        | 0x1B  |
+---------+---------+---------+---------+--------+-------+
```

# ZBB
---------------------------------------------------------------------

## ANDN
```
usage:   andn rd, rs1, rs2
opc:     0x33
func7:   0x20
func3:   0x7
pcode: 
    X(rd) = X(rs1) & ~X(rs2);

| 31   25 | 24   20 | 19   15 | 14   12 |11    7 |6     0|
+---------+---------+---------+---------+--------+-------+
| 0100000 |   rs2   |   rs1   |   111   |   rd   |0110011|
|  0x20   |         |         |   0x7   |        | 0x33  |
+---------+---------+---------+---------+--------+-------+
```
---------------------------------------------------------------------
## CLZ
```
usage:   clz rd, rs 
opc:     0x13
func7:   0x30
func3:   0x1
ext:     ZBB
arch:    RV32 RV64
pcode: 
    COUNT LEADING ZEROS

| 31   25 | 24   20 | 19   15 | 14   12 |11    7 |6     0|
+---------+---------+---------+---------+--------+-------+
| 0110000 |  00000  |   rs1   |   001   |   rd   |0010011|
|  0x30   |   0x0   |         |   0x1   |        | 0x13  |
+---------+---------+---------+---------+--------+-------+
```

## CLZW
```
usage:   clzw rd, rs 
opc:     0x1b
func7:   0x30
func3:   0x1
ext:     ZBB
arch:    RV64
pcode: 
    COUNT LEADING ZEROS WORD

| 31   25 | 24   20 | 19   15 | 14   12 |11    7 |6     0|
+---------+---------+---------+---------+--------+-------+
| 0110000 |  00000  |   rs1   |   001   |   rd   |0011011|
|  0x30   |   0x0   |         |   0x1   |        | 0x1B  |
+---------+---------+---------+---------+--------+-------+
```

## CPOP
```
usage:   cpop rd, rs 
opc:     0x13
func7:   0x30
func3:   0x1
ext:     ZBB
arch:    RV32 RV64
pcode: 
    COUNT ONES

| 31   25 | 24   20 | 19   15 | 14   12 |11    7 |6     0|
+---------+---------+---------+---------+--------+-------+
| 0110000 |  00010  |   rs1   |   001   |   rd   |0010011|
|  0x30   |   0x2   |         |   0x1   |        | 0x13  |
+---------+---------+---------+---------+--------+-------+
```

## CPOPW
```
usage:   cpopw rd, rs 
opc:     0x1b
func7:   0x30
func3:   0x1
ext:     ZBB
arch:    RV64
pcode: 
    COUNT ONES WORD

| 31   25 | 24   20 | 19   15 | 14   12 |11    7 |6     0|
+---------+---------+---------+---------+--------+-------+
| 0110000 |  00010  |   rs1   |   001   |   rd   |0011011|
|  0x30   |   0x2   |         |   0x1   |        | 0x1B  |
+---------+---------+---------+---------+--------+-------+
011000000010
```

## CTZ
```
usage:   ctz rd, rs 
opc:     0x13
func7:   0x30
func3:   0x1
ext:     ZBB
arch:    RV32 RV64
pcode: 
    COUNT TRAILING ZEROS

| 31   25 | 24   20 | 19   15 | 14   12 |11    7 |6     0|
+---------+---------+---------+---------+--------+-------+
| 0110000 |  00001  |   rs1   |   001   |   rd   |0010011|
|  0x30   |   0x1   |         |   0x1   |        | 0x13  |
+---------+---------+---------+---------+--------+-------+

011000000001

```

## CTZW
```
usage:   ctzw rd, rs 
opc:     0x1b
func7:   0x30
func3:   0x1
ext:     ZBB
arch:    RV64
pcode: 
    COUNT TRAILING ZEROS WORD

| 31   25 | 24   20 | 19   15 | 14   12 |11    7 |6     0|
+---------+---------+---------+---------+--------+-------+
| 0110000 |  00001  |   rs1   |   001   |   rd   |0011011|
|  0x30   |   0x1   |         |   0x1   |        | 0x1B  |
+---------+---------+---------+---------+--------+-------+
```

## MAX
```
usage:   max rd, rs1, rs2 
opc:     0x33
func7:   0x5
func3:   0x6
ext:     ZBB
arch:    RV32 RV64
pcode: 
    X(rd) = X(rs1) <s X(rs2) ? X(rs2) : X(rs1)

| 31   25 | 24   20 | 19   15 | 14   12 |11    7 |6     0|
+---------+---------+---------+---------+--------+-------+
| 0000101 |   rs2   |   rs1   |   110   |   rd   |0110011|
|   0x5   |         |         |   0x6   |        | 0x33  |
+---------+---------+---------+---------+--------+-------+
```

## MAXU
```
usage:   maxu rd, rs1, rs2 
opc:     0x33
func7:   0x5
func3:   0x7
ext:     ZBB
arch:    RV32 RV64
pcode: 
    X(rd) = X(rs1) <u X(rs2) ? X(rs2) : X(rs1)

| 31   25 | 24   20 | 19   15 | 14   12 |11    7 |6     0|
+---------+---------+---------+---------+--------+-------+
| 0000101 |   rs2   |   rs1   |   111   |   rd   |0110011|
|   0x5   |         |         |   0x7   |        | 0x33  |
+---------+---------+---------+---------+--------+-------+
```

## MIN
```
usage:   min rd, rs1, rs2 
opc:     0x33
func7:   0x5
func3:   0x4
ext:     ZBB
arch:    RV32 RV64
pcode: 
    X(rd) = X(rs1) <s X(rs2) ? X(rs1) : X(rs2)

| 31   25 | 24   20 | 19   15 | 14   12 |11    7 |6     0|
+---------+---------+---------+---------+--------+-------+
| 0000101 |   rs2   |   rs1   |   100   |   rd   |0110011|
|   0x5   |         |         |   0x4   |        | 0x33  |
+---------+---------+---------+---------+--------+-------+
```

## MINU
```
usage:   minu rd, rs1, rs2 
opc:     0x33
func7:   0x5
func3:   0x5
ext:     ZBB
arch:    RV32 RV64
pcode: 
    X(rd) = X(rs1) <u X(rs2) ? X(rs1) : X(rs2)

| 31   25 | 24   20 | 19   15 | 14   12 |11    7 |6     0|
+---------+---------+---------+---------+--------+-------+
| 0000101 |   rs2   |   rs1   |   101   |   rd   |0110011|
|   0x5   |         |         |   0x5   |        | 0x33  |
+---------+---------+---------+---------+--------+-------+
```

## ORN
```
usage:   orn rd, rs1, rs2 
opc:     0x33
func7:   0x20
func3:   0x6
ext:     ZBB
arch:    RV32 RV64
pcode: 
    X(rd) = X(rs1) | ~X(rs2)

| 31   25 | 24   20 | 19   15 | 14   12 |11    7 |6     0|
+---------+---------+---------+---------+--------+-------+
| 0100000 |   rs2   |   rs1   |   110   |   rd   |0110011|
|  0x20   |         |         |   0x6   |        | 0x33  |
+---------+---------+---------+---------+--------+-------+
```

## SEXT.B
```
usage:   sext.b rd, rs
opc:     0x13
func7:   0x30
func3:   0x1
ext:     ZBB
arch:    RV32 RV64
pcode: 
         X(rd) = EXTS(X(rs)[7..0]);

| 31   25 | 24   20 | 19   15 | 14   12 |11    7 |6     0|
+---------+---------+---------+---------+--------+-------+
| 0110000 |  00100  |   rs1   |   001   |   rd   |0010011|
|  0x30   |   0x4   |         |   0x1   |        | 0x13  |
+---------+---------+---------+---------+--------+-------+
```

## SEXT.H
```
usage:   sext.h rd, rs
opc:     0x13
func7:   0x30
func3:   0x1
ext:     ZBB
arch:    RV32 RV64
pcode: 
         X(rd) = EXTS(X(rs)[15..0]);

| 31   25 | 24   20 | 19   15 | 14   12 |11    7 |6     0|
+---------+---------+---------+---------+--------+-------+
| 0110000 |  00101  |   rs1   |   001   |   rd   |0010011|
|  0x30   |   0x5   |         |   0x1   |        | 0x13  |
+---------+---------+---------+---------+--------+-------+
```

## XNOR
```
usage:   xnor rd, rs1, rs2
opc:     0x33
func7:   0x20
func3:   0x4
ext:     ZBB
arch:    RV32 RV64
pcode: 
         X(rd) = ~(X(rs1) ^ X(rs2));

| 31   25 | 24   20 | 19   15 | 14   12 |11    7 |6     0|
+---------+---------+---------+---------+--------+-------+
| 0100000 |   rs2   |   rs1   |   100   |   rd   |0110011|
|  0x20   |         |         |   0x4   |        | 0x33  |
+---------+---------+---------+---------+--------+-------+
```

## ZEXT.H
```
usage:   zext.h rd, rs
opc:     0x3b
func7:   0x4
func3:   0x4
ext:     ZBB
arch:    RV32 RV64
pcode: 
         X(rd) = EXTZ(X(rs)[15..0]);

| 31   25 | 24   20 | 19   15 | 14   12 |11    7 |6     0|
+---------+---------+---------+---------+--------+-------+
| 0000100 |  00000  |   rs1   |   100   |   rd   |0111011|
|   0x4   |   0x0   |         |   0x4   |        | 0x3B  |
+---------+---------+---------+---------+--------+-------+
```

# ZBC
---------------------------------------------------------------------

## CLMUL
```
usage:   clmul rd, rs1, rs2
opc:     0x33
func7:   0x5
func3:   0x1
ext:     ZBC
arch:    RV32 RV64
pcode: 
         let v1 = X(rs1)
         let v2 = X(rs2)
         let val = 0;
         for (unsigned i = 0; i < XLEN; ++i)
           if ((v2 >> i) & 1) val ^= v1 << i;
      
         X(rd) = val 

| 31   25 | 24   20 | 19   15 | 14   12 |11    7 |6     0|
+---------+---------+---------+---------+--------+-------+
| 0000101 |   rs2   |   rs1   |   001   |   rd   |0110011|
|   0x5   |         |         |   0x1   |        | 0x33  |
+---------+---------+---------+---------+--------+-------+
```

## CLMULH
```
usage:   clmulh rd, rs1, rs2
opc:     0x33
func7:   0x5
func3:   0x3
ext:     ZBC
arch:    RV32 RV64
pcode: 
         let v1 = X(rs1)
         let v2 = X(rs2)
         let val = 0;
         for (unsigned i = 1; i < XLEN; ++i)
           if ((v2 >> i) & 1) val ^= v1 >> (XLEN - i);
       
         X(rd) = val 

| 31   25 | 24   20 | 19   15 | 14   12 |11    7 |6     0|
+---------+---------+---------+---------+--------+-------+
| 0000101 |   rs2   |   rs1   |   011   |   rd   |0110011|
|   0x5   |         |         |   0x3   |        | 0x33  |
+---------+---------+---------+---------+--------+-------+
```
## CLMULR
```
usage:   clmulr rd, rs1, rs2
opc:     0x33
func7:   0x5
func3:   0x2
ext:     ZBC
arch:    RV32 RV64
pcode: 
         let v1 = X(rs1)
         let v2 = X(rs2)
         let val = 0;
         for (unsigned i = 0; i < XLEN; ++i)
           if ((v2 >> i) & 1) val ^= v1 >> (XLEN - i - 1);
       
         X(rd) = val 

| 31   25 | 24   20 | 19   15 | 14   12 |11    7 |6     0|
+---------+---------+---------+---------+--------+-------+
| 0000101 |   rs2   |   rs1   |   010   |   rd   |0110011|
|   0x5   |         |         |   0x2   |        | 0x33  |
+---------+---------+---------+---------+--------+-------+
```


# ZBS
---------------------------------------------------------------------

## BCLR
```
usage:   bclr rd, rs1, rs2
opc:     0x33
func7:   0x24
func3:   0x1
ext:     ZBS
arch:    RV32 RV64
pcode: 
         let index = X(rs2) & (XLEN - 1);
         X(rd) = X(rs1) & ~(1 << index)

| 31   25 | 24   20 | 19   15 | 14   12 |11    7 |6     0|
+---------+---------+---------+---------+--------+-------+
| 0100100 |   rs2   |   rs1   |   001   |   rd   |0110011|
|  0x24   |         |         |   0x1   |        | 0x33  |
+---------+---------+---------+---------+--------+-------+
```

## BCLRI RV32
```
usage:   bclri rd, rs1, imm
opc:     0x13
func7:   0x24
func3:   0x1
ext:     ZBS
arch:    RV32
pcode: 
         let index = shamt & (XLEN - 1);
         X(rd) = X(rs1) & ~(1 << index)

| 31   25 | 24   20 | 19   15 | 14   12 |11    7 |6     0|
+---------+---------+---------+---------+--------+-------+
| 0100100 |  shamt  |   rs1   |   001   |   rd   |0010011|
|  0x24   |         |         |   0x1   |        | 0x13  |
+---------+---------+---------+---------+--------+-------+
```
## BCLRI  RV64
```
usage:   bclri rd, rs1, imm
opc:     0x13
func7:   0x12
func3:   0x1
ext:     ZBS
arch:    RV64
pcode: 
         let index = shamt & (XLEN - 1);
         X(rd) = X(rs1) & ~(1 << index)

| 31   26 | 25   20 | 19   15 | 14   12 |11    7 |6     0|
+---------+---------+---------+---------+--------+-------+
| 010010  |   rs2   |   rs1   |   001   |   rd   |0010011|
|  0x12   |         |         |   0x1   |        | 0x13  |
+---------+---------+---------+---------+--------+-------+
```
## BEXT
```
usage:   bext rd, rs1, rs2
opc:     0x33
func7:   0x24
func3:   0x5
ext:     ZBS
arch:    RV32 RV64
pcode: 
         let index = X(rs2) & (XLEN - 1);
         X(rd) = (X(rs1) >> index) & 1;

| 31   25 | 24   20 | 19   15 | 14   12 |11    7 |6     0|
+---------+---------+---------+---------+--------+-------+
| 0100100 |   rs2   |   rs1   |   101   |   rd   |0110011|
|  0x24   |         |         |   0x5   |        | 0x33  |
+---------+---------+---------+---------+--------+-------+
```
## BEXTI RV32
```
usage:   bexti rd, rs1, imm
opc:     0x13
func7:   0x24
func3:   0x5
ext:     ZBS
arch:    RV32
pcode: 
         let index = shamt & (XLEN - 1);
         X(rd) = (X(rs1) >> index) & 1;

| 31   25 | 24   20 | 19   15 | 14   12 |11    7 |6     0|
+---------+---------+---------+---------+--------+-------+
| 0100100 |  shamt  |   rs1   |   101   |   rd   |0010011|
|  0x24   |         |         |   0x5   |        | 0x13  |
+---------+---------+---------+---------+--------+-------+
```
## BEXTI RV64
```
usage:   bexti rd, rs1, imm
opc:     0x13
func7:   0x12
func3:   0x5
ext:     ZBS
arch:    RV32
pcode: 
         let index = shamt & (XLEN - 1);
         X(rd) = (X(rs1) >> index) & 1;

| 31   26 | 25   20 | 19   15 | 14   12 |11    7 |6     0|
+---------+---------+---------+---------+--------+-------+
| 010010  |  shamt  |   rs1   |   101   |   rd   |0010011|
|  0x12   |         |         |   0x5   |        | 0x13  |
+---------+---------+---------+---------+--------+-------+
```
## BINV
```
usage:   binv rd, rs1, rs2
opc:     0x33
func7:   0x34
func3:   0x1
ext:     ZBS
arch:    RV32 RV64
pcode: 
         let index = X(rs2) & (XLEN - 1);
         X(rd) = X(rs1) ^ (1 << index)

| 31   25 | 24   20 | 19   15 | 14   12 |11    7 |6     0|
+---------+---------+---------+---------+--------+-------+
| 0110100 |   rs2   |   rs1   |   001   |   rd   |0110011|
|  0x34   |         |         |   0x1   |        | 0x33  |
+---------+---------+---------+---------+--------+-------+
```
## BINVI  RV32
```
usage:   binvi rd, rs1, imm
opc:     0x13
func7:   0x34
func3:   0x1
ext:     ZBS
arch:    RV32
pcode: 
         let index = shamt & (XLEN - 1);
         X(rd) = X(rs1) ^ (1 << index)

| 31   25 | 24   20 | 19   15 | 14   12 |11    7 |6     0|
+---------+---------+---------+---------+--------+-------+
| 0110100 |  shamt  |   rs1   |   001   |   rd   |0010011|
|  0x34   |         |         |   0x1   |        | 0x13  |
+---------+---------+---------+---------+--------+-------+
```
## BINVI  RV64
```
usage:   binvi rd, rs1, imm
opc:     0x13
func7:   0x1a
func3:   0x1
ext:     ZBS
arch:    RV64
pcode: 
         let index = shamt & (XLEN - 1);
         X(rd) = X(rs1) ^ (1 << index)

| 31   26 | 25   20 | 19   15 | 14   12 |11    7 |6     0|
+---------+---------+---------+---------+--------+-------+
| 011010  |  shamt  |   rs1   |   001   |   rd   |0010011|
|  0x1A   |         |         |   0x1   |        | 0x13  |
+---------+---------+---------+---------+--------+-------+
```
## BSET
```
usage:   bset rd, rs1, rs2
opc:     0x33
func7:   0x14
func3:   0x1
ext:     ZBS
arch:    RV32 RV64
pcode: 
         let index = X(rs2) & (XLEN - 1);
         X(rd) = X(rs1) | (1 << index)

| 31   25 | 24   20 | 19   15 | 14   12 |11    7 |6     0|
+---------+---------+---------+---------+--------+-------+
| 0010100 |   rs2   |   rs1   |   001   |   rd   |0110011|
|  0x14   |         |         |   0x1   |        | 0x33  |
+---------+---------+---------+---------+--------+-------+
```
## BSETI RV32
```
usage:   bseti rd, rs1, imm
opc:     0x13
func7:   0x14
func3:   0x1
ext:     ZBS
arch:    RV32
pcode: 
         let index = shamt & (XLEN - 1);
         X(rd) = X(rs1) | (1 << index)

| 31   25 | 24   20 | 19   15 | 14   12 |11    7 |6     0|
+---------+---------+---------+---------+--------+-------+
| 0010100 |  shamt  |   rs1   |   001   |   rd   |0010011|
|  0x14   |         |         |   0x1   |        | 0x13  |
+---------+---------+---------+---------+--------+-------+
```
## BSETI RV64
```
usage:   bseti rd, rs1, imm
opc:     0x13
func7:   0xa
func3:   0x1
ext:     ZBS
arch:    RV64
pcode: 
         let index = shamt & (XLEN - 1);
         X(rd) = X(rs1) | (1 << index)

| 31   26 | 25   20 | 19   15 | 14   12 |11    7 |6     0|
+---------+---------+---------+---------+--------+-------+
| 001010  |  shamt  |   rs1   |   001   |   rd   |0010011|
|   0xA   |         |         |   0x1   |        | 0x13  |
+---------+---------+---------+---------+--------+-------+
```

